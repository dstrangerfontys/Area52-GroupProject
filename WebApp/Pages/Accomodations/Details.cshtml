@page
@model Area52.WebApp.Pages.Accommodations.DetailsModel
@using Area52.Core.Domain

@{
    ViewData["Title"] = Model.Accommodation?.Name ?? "Accommodatie";
}

<section class="accommodations-section">
    @if (Model.Accommodation == null)
    {
        <p>Accommodatie niet gevonden.</p>
    }
    else
    {
        <header class="accommodations-header">
            <h2 class="accommodations-title">@Model.Accommodation.Name</h2>
            <p class="accommodations-subtitle">
                Type: @Model.Accommodation.Type<br />
                Capaciteit: @Model.Accommodation.Capacity personen
            </p>
            <p class="accommodations-subtitle">
                Verblijfsperiode:
                @Model.CheckIn.ToString("dd-MM-yyyy")
                t/m
                @Model.CheckOut.ToString("dd-MM-yyyy")<br />
                Gasten: @Model.Persons
            </p>
        </header>

        @if (Model.Quote != null)
        {
            <section class="booking-result">
                <h3>Prijsindicatie</h3>
                <p>Bruto: @Model.Quote.GrossAmount.ToString("C")</p>
                <p>Korting: @Model.Quote.DiscountAmount.ToString("C")</p>
                <p><strong>Netto: @Model.Quote.NetAmount.ToString("C")</strong></p>
            </section>
        }

        <section class="booking-result">
            <h3>Over deze accommodatie</h3>
            <p>
                Hier kun je later per type een echte beschrijving plaatsen
                (bijvoorbeeld vanuit de database): ligging, faciliteiten,
                foto’s, etc. Voor nu is dit placeholder-tekst.
            </p>
        </section>

        <form method="post">
            <input type="hidden" asp-for="Id" />
            <input type="hidden" asp-for="CheckIn" />
            <input type="hidden" asp-for="CheckOut" />
            <input type="hidden" asp-for="Persons" />

            <button type="submit" asp-page-handler="Book" class="btn btn-primary">
                Boek nu
            </button>
        </form>

        @if (Model.ReservationId.HasValue)
        {
            <section class="booking-result">
                <h3>Reservering bevestigd</h3>
                <p>Reserveringsnummer: <strong>@Model.ReservationId</strong></p>
                <p>Status: @Model.ReservationStatus</p>
            </section>
        }
    }
</section>